{"version":3,"sources":["auto-reload.js","birthdate.js","constants.js","date-helper.js","grid.js","init.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,CAAC,YAAW;AACV,MAAI,YAAY,OAAO,SAAP,IAAoB,OAAO,YAAP,CAD1B;AAEV,MAAI,KAAK,OAAO,MAAP,GAAiB,OAAO,MAAP,IAAiB,EAAjB,CAFhB;AAGV,MAAI,KAAK,GAAG,aAAH,IAAqB,GAAG,aAAH,KAAqB,EAArB,CAHpB;AAIV,MAAI,CAAC,SAAD,IAAc,GAAG,QAAH,EAAa,OAA/B;;AAEA,MAAI,cAAc,SAAd,WAAc,CAAS,GAAT,EAAa;AAC7B,QAAI,OAAO,KAAK,KAAL,CAAW,KAAK,GAAL,KAAa,IAAb,CAAX,CAA8B,QAA9B,EAAP,CADyB;AAE7B,UAAM,IAAI,OAAJ,CAAY,yBAAZ,EAAuC,EAAvC,CAAN,CAF6B;AAG7B,WAAO,OAAO,IAAI,OAAJ,CAAY,GAAZ,KAAoB,CAApB,GAAwB,GAAxB,GAA8B,GAA9B,CAAP,GAA2C,cAA3C,GAA4D,IAA5D,CAHsB;GAAb,CANR;;AAYV,MAAI,UAAU,UAAU,SAAV,CAAoB,WAApB,EAAV,CAZM;AAaV,MAAI,eAAe,GAAG,YAAH,IAAmB,QAAQ,OAAR,CAAgB,QAAhB,IAA4B,CAAC,CAAD,CAbxD;;AAeV,MAAI,YAAY;AACd,UAAM,gBAAU;AACd,aAAO,QAAP,CAAgB,MAAhB,CAAuB,IAAvB,EADc;KAAV;;AAIN,gBAAY,sBAAU;AACpB,SAAG,KAAH,CACG,IADH,CACQ,SAAS,gBAAT,CAA0B,sBAA1B,CADR,EAEG,MAFH,CAEU,UAAS,IAAT,EAAe;AACrB,YAAI,MAAM,KAAK,YAAL,CAAkB,iBAAlB,CAAN,CADiB;AAErB,eAAO,KAAK,IAAL,IAAa,OAAO,OAAP,CAFC;OAAf,CAFV,CAMG,OANH,CAMW,UAAS,IAAT,EAAe;AACtB,aAAK,IAAL,GAAY,YAAY,KAAK,IAAL,CAAxB,CADsB;OAAf,CANX;;;AADoB,UAYhB,YAAJ,EAAkB,WAAW,YAAW;AAAE,iBAAS,IAAT,CAAc,YAAd,CAAF;OAAX,EAA4C,EAAvD,EAAlB;KAZU;;AAeZ,gBAAY,sBAAU;AACpB,UAAI,UAAU,GAAG,KAAH,CAAS,IAAT,CAAc,SAAS,gBAAT,CAA0B,QAA1B,CAAd,CAAV,CADgB;AAEpB,UAAI,cAAc,QAAQ,GAAR,CAAY,UAAS,MAAT,EAAiB;AAAE,eAAO,OAAO,IAAP,CAAT;OAAjB,CAAZ,CAAqD,MAArD,CAA4D,UAAS,IAAT,EAAe;AAAE,eAAO,KAAK,MAAL,GAAc,CAAd,CAAT;OAAf,CAA1E,CAFgB;AAGpB,UAAI,aAAa,QAAQ,MAAR,CAAe,UAAS,MAAT,EAAiB;AAAE,eAAO,OAAO,GAAP,CAAT;OAAjB,CAA5B,CAHgB;;AAKpB,UAAI,SAAS,CAAT,CALgB;AAMpB,UAAI,MAAM,WAAW,MAAX,CANU;AAOpB,UAAI,SAAS,SAAT,MAAS,GAAW;AACtB,iBAAS,SAAS,CAAT,CADa;AAEtB,YAAI,WAAW,GAAX,EAAgB;AAClB,cAAI,QAAO,yDAAP,KAAmB,QAAnB,IAA+B,QAAQ,KAAR,EAAe,QAAQ,KAAR,GAAlD;AACA,sBAAY,OAAZ,CAAoB,UAAS,MAAT,EAAiB;AAAE,iBAAK,MAAL,EAAF;WAAjB,CAApB,CAFkB;SAApB;OAFW,CAPO;;AAepB,iBACG,OADH,CACW,UAAS,MAAT,EAAiB;AACxB,YAAI,MAAM,OAAO,GAAP,CADc;AAExB,eAAO,MAAP,GAFwB;AAGxB,YAAI,YAAY,SAAS,aAAT,CAAuB,QAAvB,CAAZ,CAHoB;AAIxB,kBAAU,GAAV,GAAgB,YAAY,GAAZ,CAAhB,CAJwB;AAKxB,kBAAU,KAAV,GAAkB,IAAlB,CALwB;AAMxB,kBAAU,MAAV,GAAmB,MAAnB,CANwB;AAOxB,iBAAS,IAAT,CAAc,WAAd,CAA0B,SAA1B,EAPwB;OAAjB,CADX,CAfoB;KAAV;GApBV,CAfM;AA8DV,MAAI,OAAO,GAAG,IAAH,IAAW,IAAX,CA9DD;AA+DV,MAAI,OAAO,GAAG,MAAH,IAAa,OAAO,QAAP,CAAgB,QAAhB,IAA4B,WAAzC,CA/DD;;AAiEV,MAAI,UAAU,SAAV,OAAU,GAAU;AACtB,QAAI,aAAa,IAAI,SAAJ,CAAc,UAAU,IAAV,GAAiB,GAAjB,GAAuB,IAAvB,CAA3B,CADkB;AAEtB,eAAW,SAAX,GAAuB,UAAS,KAAT,EAAe;AACpC,UAAI,GAAG,QAAH,EAAa,OAAjB;AACA,UAAI,UAAU,MAAM,IAAN,CAFsB;AAGpC,UAAI,WAAW,UAAU,OAAV,KAAsB,UAAU,IAAV,CAHD;AAIpC,iBAJoC;KAAf,CAFD;AAQtB,eAAW,OAAX,GAAqB,YAAU;AAC7B,UAAI,WAAW,UAAX,EAAuB,WAAW,KAAX,GAA3B;KADmB,CARC;AAWtB,eAAW,OAAX,GAAqB,YAAU;AAC7B,aAAO,UAAP,CAAkB,OAAlB,EAA2B,IAA3B,EAD6B;KAAV,CAXC;GAAV,CAjEJ;AAgFV,YAhFU;CAAX,CAAD;;;;;ACDA,IAAI,YAAY,QAAQ,WAAR,CAAZ;AACJ,IAAI,aAAa,QAAQ,aAAR,CAAb;;AAEJ,IAAI,YAAY;AACd,oBAAkB,SAAS,cAAT,CAAwB,WAAxB,CAAlB;;AAEA,sCAAa,MAAM;AACjB,SAAK,gBAAL,CAAsB,KAAtB,GAA8B,KAAK,WAAL,GAAmB,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAA9B,CADiB;AAEjB,SAAK,gBAAL,CAAsB,aAAtB,CAAoC,IAAI,KAAJ,CAAU,OAAV,CAApC,EAFiB;GAHL;AAQd,4DAAyB;AACvB,QAAI,WAAW,IAAI,IAAJ,CAAS,KAAK,gBAAL,CAAsB,KAAtB,CAApB,CADmB;AAEvB,QAAI,eAAe,WAAW,SAAX,KAAyB,SAAS,OAAT,EAAzB,CAFI;AAGvB,QAAI,UAAU,eAAe,UAAU,YAAV,CAHN;AAIvB,QAAI,UAAU,UAAU,UAAU,iBAAV,CAJD;AAKvB,QAAI,QAAQ,UAAU,UAAU,eAAV,CALC;AAMvB,QAAI,OAAO,QAAQ,UAAU,YAAV,CANI;AAOvB,QAAI,QAAQ,OAAO,UAAU,YAAV,CAPI;AAQvB,QAAI,QAAQ,KAAK,KAAL,CAAW,QAAQ,UAAU,aAAV,CAA3B,CARmB;AASvB,WAAO,KAAP,CATuB;GARX;AAoBd,kDAAmB,mBAAmB;AACpC,SAAK,gBAAL,CAAsB,gBAAtB,CAAuC,OAAvC,EAAgD,iBAAhD,EADoC;GApBxB;CAAZ;;AAyBJ,OAAO,OAAP,GAAiB,SAAjB;;;;;;;AC3BA,IAAM,eAAe,IAAf;AACN,IAAM,oBAAoB,EAApB;AACN,IAAM,kBAAkB,EAAlB;AACN,IAAM,eAAe,EAAf;AACN,IAAM,eAAe,MAAf;;;AAGN,IAAM,gBAAgB,EAAhB;AACN,IAAM,cAAc,EAAd;;;AAGN,OAAO,OAAP,GAAiB;AACf,4BADe;AAEf,sCAFe;AAGf,kCAHe;AAIf,4BAJe;AAKf,4BALe;AAMf,8BANe;AAOf,0BAPe;CAAjB;;;;;;ACZA,IAAI,aAAa;AACf,0BAAQ;AACN,QAAI,QAAQ,IAAI,IAAJ,EAAR;;AADE,SAGN,CAAM,WAAN,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB,EAA2B,CAA3B,EAHM;AAIN,WAAO,KAAP,CAJM;GADO;AAOf,kCAAY;AACV,WAAO,KAAK,KAAL,GAAa,OAAb,EAAP,CADU;GAPG;AAUf,gDAAkB,OAAO;AACvB,QAAI,OAAO,KAAK,KAAL,EAAP,CADmB;AAEvB,SAAK,cAAL,CAAoB,KAAK,cAAL,KAAwB,KAAxB,CAApB,CAFuB;AAGvB,WAAO,IAAP,CAHuB;GAVV;CAAb;;AAiBJ,OAAO,OAAP,GAAiB,UAAjB;;;;;;ACjBA,IAAI,YAAY,QAAQ,WAAR,CAAZ;;AAEJ,IAAI,OAAO;AACT,eAAa,SAAS,cAAT,CAAwB,MAAxB,CAAb;AACA,aAAW,CAAX;;AAEA,sCAAa,YAAY;AACvB,QAAI,cAAc,MAAd,CADmB;AAEvB,QAAI,aAAa,KAAK,SAAL,EAAgB,eAAe,SAAf,CAAjC;AACA,4BAAsB,wBAAtB,CAHuB;GAJhB;AAUT,sCAAa,MAAM;AACjB,QAAI,WAAW,oBAAX,CADa;AAEjB,SAAI,IAAI,IAAI,CAAJ,EAAO,IAAI,UAAU,aAAV,EAAyB,GAA5C,EAAiD;AAC/C,UAAI,aAAa,IAAC,GAAO,UAAU,aAAV,GAA2B,CAAnC,CAD8B;AAE/C,kBAAY,KAAK,YAAL,CAAkB,UAAlB,CAAZ,CAF+C;KAAjD;AAIA,WAAO,WAAW,QAAX,CANU;GAVV;AAmBT,wCAAe;AACb,QAAI,WAAW,EAAX,CADS;AAEb,SAAI,IAAI,IAAI,CAAJ,EAAO,IAAI,UAAU,WAAV,EAAuB,GAA1C,EAA+C;AAC7C,kBAAY,KAAK,YAAL,CAAkB,CAAlB,CAAZ,CAD6C;KAA/C;AAGA,WAAO,QAAP,CALa;GAnBN;AA2BT,0BAAO,OAAO;AACZ,SAAK,SAAL,GAAiB,KAAjB,CADY;AAEZ,SAAK,WAAL,CAAiB,SAAjB,GAA6B,KAAK,YAAL,EAA7B,CAFY;GA3BL;CAAP;;AAiCJ,OAAO,OAAP,GAAiB,IAAjB;;;;;;ACnCA,IAAI,YAAY,QAAQ,WAAR,CAAZ;AACJ,IAAI,aAAa,QAAQ,aAAR,CAAb;AACJ,IAAI,OAAO,QAAQ,MAAR,CAAP;AACJ,IAAI,YAAY,QAAQ,WAAR,CAAZ;;;AAGJ,UAAU,kBAAV,CAA6B,YAAW;AACtC,MAAI,aAAa,UAAU,sBAAV,EAAb,CADkC;AAEtC,OAAK,MAAL,CAAY,UAAZ,EAFsC;CAAX,CAA7B;;;AAMA,IAAI,cAAc,WAAW,iBAAX,CAA6B,UAAU,WAAV,CAA3C;AACJ,UAAU,YAAV,CAAuB,WAAvB","file":"public/javascripts/app.js","sourcesContent":["/* jshint ignore:start */\n(function() {\n  var WebSocket = window.WebSocket || window.MozWebSocket;\n  var br = window.brunch = (window.brunch || {});\n  var ar = br['auto-reload'] = (br['auto-reload'] || {});\n  if (!WebSocket || ar.disabled) return;\n\n  var cacheBuster = function(url){\n    var date = Math.round(Date.now() / 1000).toString();\n    url = url.replace(/(\\&|\\\\?)cacheBuster=\\d*/, '');\n    return url + (url.indexOf('?') >= 0 ? '&' : '?') +'cacheBuster=' + date;\n  };\n\n  var browser = navigator.userAgent.toLowerCase();\n  var forceRepaint = ar.forceRepaint || browser.indexOf('chrome') > -1;\n\n  var reloaders = {\n    page: function(){\n      window.location.reload(true);\n    },\n\n    stylesheet: function(){\n      [].slice\n        .call(document.querySelectorAll('link[rel=stylesheet]'))\n        .filter(function(link) {\n          var val = link.getAttribute('data-autoreload');\n          return link.href && val != 'false';\n        })\n        .forEach(function(link) {\n          link.href = cacheBuster(link.href);\n        });\n\n      // Hack to force page repaint after 25ms.\n      if (forceRepaint) setTimeout(function() { document.body.offsetHeight; }, 25);\n    },\n\n    javascript: function(){\n      var scripts = [].slice.call(document.querySelectorAll('script'));\n      var textScripts = scripts.map(function(script) { return script.text }).filter(function(text) { return text.length > 0 });\n      var srcScripts = scripts.filter(function(script) { return script.src });\n\n      var loaded = 0;\n      var all = srcScripts.length;\n      var onLoad = function() {\n        loaded = loaded + 1;\n        if (loaded === all) {\n          if (typeof require === 'object' && require.reset) require.reset();\n          textScripts.forEach(function(script) { eval(script); });\n        }\n      }\n\n      srcScripts\n        .forEach(function(script) {\n          var src = script.src;\n          script.remove();\n          var newScript = document.createElement('script');\n          newScript.src = cacheBuster(src);\n          newScript.async = true;\n          newScript.onload = onLoad;\n          document.head.appendChild(newScript);\n        });\n    }\n  };\n  var port = ar.port || 9485;\n  var host = br.server || window.location.hostname || 'localhost';\n\n  var connect = function(){\n    var connection = new WebSocket('ws://' + host + ':' + port);\n    connection.onmessage = function(event){\n      if (ar.disabled) return;\n      var message = event.data;\n      var reloader = reloaders[message] || reloaders.page;\n      reloader();\n    };\n    connection.onerror = function(){\n      if (connection.readyState) connection.close();\n    };\n    connection.onclose = function(){\n      window.setTimeout(connect, 1000);\n    };\n  };\n  connect();\n})();\n/* jshint ignore:end */\n","let constants = require('constants');\nlet dateHelper = require('date-helper');\n\nlet birthdate = {\n  birthdateElement: document.getElementById('birthdate'),\n\n  setBirthdate(date) {\n    this.birthdateElement.value = date.toISOString().split('T')[0];\n    this.birthdateElement.dispatchEvent(new Event('input'));\n  },\n\n  getWeeksSinceBirthdate() {\n    let birthday = new Date(this.birthdateElement.value);\n    let milliseconds = dateHelper.todayInMs() - birthday.getTime();\n    let seconds = milliseconds / constants.MS_IN_SECOND;\n    let minutes = seconds / constants.SECONDS_IN_MINUTE;\n    let hours = minutes / constants.MINUTES_IN_HOUR;\n    let days = hours / constants.HOURS_IN_DAY;\n    let years = days / constants.DAYS_IN_YEAR;\n    let weeks = Math.round(years * constants.WEEKS_IN_YEAR);\n    return weeks;\n  },\n\n  setupInputListener(inputEventHandler) {\n    this.birthdateElement.addEventListener('input', inputEventHandler);\n  }\n};\n\nmodule.exports = birthdate;\n","// Time Constants\nconst MS_IN_SECOND = 1000;\nconst SECONDS_IN_MINUTE = 60;\nconst MINUTES_IN_HOUR = 60;\nconst HOURS_IN_DAY = 24;\nconst DAYS_IN_YEAR = 365.25;\n\n// Grid Value Constants\nconst WEEKS_IN_YEAR = 52; // yeah we are cheating a bit here\nconst TOTAL_YEARS = 90;   // Tim Urban's TED talk went to 90\n\n// Export\nmodule.exports = {\n  MS_IN_SECOND,\n  SECONDS_IN_MINUTE,\n  MINUTES_IN_HOUR,\n  HOURS_IN_DAY,\n  DAYS_IN_YEAR,\n  WEEKS_IN_YEAR,\n  TOTAL_YEARS\n};\n","let dateHelper = {\n  today() {\n    let today = new Date();\n    // Set the hours, minutes, seconds, ms to 0 so that we have a just the date\n    today.setUTCHours(0, 0, 0, 0);\n    return today;\n  },\n  todayInMs() {\n    return this.today().getTime();\n  },\n  yearsAgoFromToday(years) {\n    let date = this.today();\n    date.setUTCFullYear(date.getUTCFullYear() - years);\n    return date;\n  }\n};\n\nmodule.exports = dateHelper;\n","let constants = require('constants');\n\nlet grid = {\n  gridElement: document.getElementById('grid'),\n  fillWeeks: 0,\n\n  weekTemplate(weekNumber) {\n    let classString = 'week';\n    if (weekNumber < this.fillWeeks) classString += ' filled';\n    return `<div class=\"${classString}\"></div>`;\n  },\n\n  yearTemplate(year) {\n    let yearHtml = '<div class=\"year\">';\n    for(let i = 0; i < constants.WEEKS_IN_YEAR; i++) {\n      let weekNumber = (year * constants.WEEKS_IN_YEAR) + i;\n      yearHtml += this.weekTemplate(weekNumber);\n    }\n    return yearHtml + '</div>';\n  },\n\n  gridTemplate() {\n    let gridHtml = '';\n    for(let i = 0; i < constants.TOTAL_YEARS; i++) {\n      gridHtml += this.yearTemplate(i);\n    }\n    return gridHtml;\n  },\n\n  render(weeks) {\n    this.fillWeeks = weeks;\n    this.gridElement.innerHTML = this.gridTemplate();\n  }\n};\n\nmodule.exports = grid;\n","let constants = require('constants');\nlet dateHelper = require('date-helper');\nlet grid = require('grid');\nlet birthdate = require('birthdate');\n\n// When the birthdate is changed, rerender the grid with the updated weeks alive\nbirthdate.setupInputListener(function() {\n  let weeksAlive = birthdate.getWeeksSinceBirthdate();\n  grid.render(weeksAlive);\n});\n\n// For starters, set a default birthdate of TOTAL_YEARS ago\nlet defaultDate = dateHelper.yearsAgoFromToday(constants.TOTAL_YEARS);\nbirthdate.setBirthdate(defaultDate);\n"]}